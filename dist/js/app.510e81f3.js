(function(t){function e(e){for(var o,n,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},r={app:0},s=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"002b":function(t,e,a){},"09f2":function(t,e,a){"use strict";a("ed62")},1392:function(t,e,a){},"262c":function(t,e,a){"use strict";a("978e")},"35ae":function(t,e,a){t.exports=a.p+"img/上传.77b579e2.png"},"3bbb":function(t,e,a){"use strict";a("89ab")},"3cd8":function(t,e,a){"use strict";a("9681")},"3fb0":function(t,e,a){"use strict";a("a3ba")},5079:function(t,e,a){"use strict";a("83d3")},"56d7":function(t,e,a){"use strict";a.r(e);a("bd49"),a("450d");var o=a("18ff"),r=a.n(o),s=(a("960d"),a("defb")),n=a.n(s),i=(a("cb70"),a("b370")),c=a.n(i),l=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("b0c0"),a("2b0e")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},d=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("Banner"),a("router-view")],1)},p=[],v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header"},[o("span",[t._v("西二小说网站")]),o("form",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.kw,expression:"kw"}],staticClass:"search",attrs:{type:"search",placeholder:"小说搜索",name:"search"},domProps:{value:t.kw},on:{input:function(e){e.target.composing||(t.kw=e.target.value)}}}),o("a",{staticClass:"btn",on:{click:t.search}},[t._v("搜索")])]),o("ul",[t.user.isLogin?o("li",[o("img",{attrs:{src:a("776d"),alt:"退出"}}),o("a",{on:{click:function(e){return e.preventDefault(),t.back.apply(null,arguments)}}},[t._v("退出")])]):o("li",[o("img",{attrs:{src:a("776d"),alt:"登陆"}}),o("router-link",{attrs:{"active-class":"active",to:"/login"}},[t._v("登陆")]),t._v(" | "),o("router-link",{attrs:{"active-class":"active",to:"/register"}},[t._v("注册")])],1),t.user.isLogin?o("li",[o("img",{attrs:{src:a("9abc"),alt:"书架"}}),o("router-link",{attrs:{"active-class":"active",to:"/show/collect/1/9"}},[t._v("书架")])],1):t._e(),t.user.fromAdmin?o("li",[o("img",{attrs:{src:a("a420"),alt:"管理"}}),o("router-link",{attrs:{"active-class":"active",to:"/admin"}},[t._v("管理")])],1):t._e(),t.user.isLogin?o("li",[o("img",{attrs:{src:a("35ae"),alt:"上传"}}),o("router-link",{attrs:{"active-class":"active",to:"/uploads"}},[t._v("上传")])],1):t._e(),t.user.isLogin?o("li",[o("img",{attrs:{src:a("92ee"),alt:"用户"}}),o("router-link",{attrs:{"active-class":"active",to:"/show/collect/1/9"}},[t._v("用户:"+t._s(t.user.uName))])],1):t._e()])])},f=[],g=a("5530"),h=a("2f62"),b={name:"Header",data:function(){return{kw:""}},methods:{back:function(){window.confirm("您确定要退出嘛?")&&this.$store.commit("setAll",{uName:"",uPassword:"",fromAdmin:!1,isLogin:!1}),window.localStorage.removeItem("uName"),window.localStorage.removeItem("uPassword"),window.localStorage.removeItem("fromAdmin"),window.localStorage.removeItem("isLogin"),window.localStorage.removeItem("uId")},search:function(){this.$router.push({name:"search",params:{currentPage:1,pageSize:9},query:{kw:this.kw}}).catch((function(){}))}},computed:Object(g["a"])({},Object(h["b"])({user:"user"}))},w=b,A=(a("262c"),a("2877")),P=Object(A["a"])(w,v,f,!1,null,"3baf1ec3",null),k=P.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner"},[a("div",[a("router-link",{attrs:{"active-class":"active",to:"/"}},[t._v("首页")]),a("router-link",{attrs:{"active-class":"active",to:"/show/rank/1/9"}},[t._v("收藏排行榜")]),a("router-link",{attrs:{"active-class":"active",to:"/show/recommend/1/9"}},[t._v("推荐")]),a("el-dropdown",{staticClass:"drag"},[a("span",{staticClass:"el-dropdown-link"},[t._v(" 分类"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("router-link",{attrs:{to:"/show/category/1/1/9"}},[a("el-dropdown-item",[t._v("武侠小说")])],1),a("router-link",{attrs:{to:"/show/category/2/1/9"}},[a("el-dropdown-item",[t._v("玄幻小说")])],1),a("router-link",{attrs:{to:"/show/category/3/1/9"}},[a("el-dropdown-item",[t._v("爱情小说")])],1),a("router-link",{attrs:{to:"/show/category/4/1/9"}},[a("el-dropdown-item",[t._v("都市小说")])],1),a("router-link",{attrs:{to:"/show/category/5/1/9"}},[a("el-dropdown-item",[t._v("校园小说")])],1),a("router-link",{attrs:{to:"/show/category/6/1/9"}},[a("el-dropdown-item",[t._v("其他小说")])],1)],1)],1)],1)])},y=[],C={name:"Banner",computed:Object(g["a"])({},Object(h["b"])({user:"user"}))},I=C,N=(a("cca1"),Object(A["a"])(I,_,y,!1,null,"59149a97",null)),S=N.exports,E={name:"Main",components:{Header:k,Banner:S}},x=E,O=Object(A["a"])(x,m,p,!1,null,"0c1c3408",null),j=O.exports,D={name:"App",components:{Main:j},mounted:function(){var t=window.localStorage.getItem("uName"),e=window.localStorage.getItem("uPassword"),a=window.localStorage.getItem("fromAdmin"),o=window.localStorage.getItem("uId");null!==t&&null!==e?"true"==a?this.$store.commit("setAll",{uName:t,uPassword:e,fromAdmin:!0,isLogin:!0,uId:o}):this.$store.commit("setAll",{uName:t,uPassword:e,fromAdmin:!1,isLogin:!0,uId:o}):this.$store.commit("setAll",{uName:t,uPassword:e,fromAdmin:!1,isLogin:!1,uId:o})}},Q=D,R=Object(A["a"])(Q,u,d,!1,null,"5bff077c",null),L=R.exports,U=a("bc3a"),B=a.n(U),q=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show"},[a("router-view"),a("Paginate",{attrs:{curPage:t.curPage}})],1)},F=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginate"},[a("div",{staticClass:"bar"},[a("span",[t._v("共 "),a("i",[t._v(t._s(t.total))]),t._v(" 条")]),a("ul",{staticClass:"pag"},[a("li",[a("router-link",{staticClass:"no",attrs:{to:t.render(1)}},[t._v("首页")])],1),t.curPage>1?a("li",[a("router-link",{staticClass:"no",attrs:{to:t.render(t.curPage-1)}},[t._v("上一页")])],1):a("li",[a("router-link",{staticClass:"no",attrs:{to:t.render(t.curPage)}},[t._v("上一页")])],1),t._l(t.totalPage>6?6:t.totalPage,(function(e,o){return a("li",{key:o},[t.totalPage<=6?a("router-link",{attrs:{to:t.render(o+1)}},[t._v(t._s(o+1))]):t.totalPage-t.curPage<=6?a("router-link",{attrs:{to:t.render(t.totalPage-6+o)}},[t._v(t._s(t.totalPage-6+o))]):a("router-link",{attrs:{to:t.render(t.curPage+o)}},5===o?[t._v("...")]:[t._v(t._s(t.curPage+o))])],1)})),t.totalPage>6?a("li",[a("router-link",{attrs:{to:t.render(t.totalPage)}},[t._v(t._s(t.totalPage))])],1):t._e(),t.curPage<t.totalPage?a("li",[a("router-link",{staticClass:"no",attrs:{to:t.render(t.curPage+1)}},[t._v("下一页")])],1):a("li",[a("router-link",{staticClass:"no",attrs:{to:t.render(t.curPage)}},[t._v("下一页")])],1),a("li",[a("router-link",{staticClass:"no",attrs:{to:t.render(t.totalPage)}},[t._v("尾页")])],1),a("li",[t._v("前往"),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.toPage,expression:"toPage",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.toPage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.change.apply(null,arguments)},input:function(e){e.target.composing||(t.toPage=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("页")])],2)])])},V=[],X=(a("a9e3"),{name:"Paginate",data:function(){return{toPage:""}},methods:{change:function(){var t=this.toPage;t>this.totalPage?t=this.totalPage:t<1&&(t=1),this.toPage="",this.$router.push({name:this.$route.name,params:{currentPage:t,pageSize:9}})},render:function(t){return{name:this.$route.name,params:{currentPage:t,pageSize:9},query:{kw:this.$route.query.kw}}}},props:{curPage:{type:Number,default:1}},computed:Object(g["a"])({},Object(h["b"])({totalPage:"totalPage",total:"total"})),mounted:function(){}}),W=X,H=(a("ce13"),Object(A["a"])(W,K,V,!1,null,"df3d09a6",null)),$=H.exports,J={name:"Show",components:{Paginate:$},computed:{},props:["curPage"],mounted:function(){}},G=J,M=(a("3cd8"),Object(A["a"])(G,T,F,!1,null,"91e3a7d6",null)),Z=M.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"novels"},[a("div",{staticClass:"topbar"},[t._v("首页推荐")]),a("ul",t._l(9,(function(t,e){return a("li",{key:e},[a("Novel")],1)})),0),a("div",{staticClass:"topbar"},[t._v("分类推荐")]),a("div",{staticClass:"category"},[t._v("玄幻小说")]),a("ul",[a("li",[a("Novel")],1)]),a("div",{staticClass:"category"},[t._v("修真小说")]),a("ul",[a("li",[a("Novel")],1)]),a("div",{staticClass:"category"},[t._v("都市小说")]),a("ul",[a("li",[a("Novel")],1)]),a("div",{staticClass:"category"},[t._v("穿越小说")]),a("ul",[a("li",[a("Novel")],1)]),a("div",{staticClass:"category"},[t._v("网游小说")]),a("ul",[a("li",[a("Novel")],1)]),a("div",{staticClass:"category"},[t._v("科幻小说")]),a("ul",[a("li",[a("Novel")],1)]),a("div",{staticClass:"category"},[t._v("其他")]),a("ul",[a("li",[a("Novel")],1)])])},Y=[],tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"novel"},[o("router-link",{attrs:{to:"/content/admin/霸道仲裁?bid=1"}},[o("img",{attrs:{src:a("732e"),alt:"封面"}}),o("span",{staticClass:"name"},[t._v("霸道仲裁爱上我")])])],1)},et=[],at={name:"Novel",computed:Object(g["a"])({},Object(h["b"])({user:"user"}))},ot=at,rt=(a("da26"),Object(A["a"])(ot,tt,et,!1,null,"31181a67",null)),st=rt.exports,nt={name:"Novels",components:{Novel:st}},it=nt,ct=(a("3bbb"),Object(A["a"])(it,z,Y,!1,null,"0ae037d2",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("body",[a("form",[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"input-data"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uName,expression:"uName"}],attrs:{type:"text",id:"uName",name:"uName",required:"",autocomplete:"off"},domProps:{value:t.uName},on:{input:function(e){e.target.composing||(t.uName=e.target.value)}}}),a("div",{staticClass:"underline"}),a("label",{attrs:{for:"email"}},[t._v("用户名")])]),a("br"),a("div",{staticClass:"input-data"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uPassword,expression:"uPassword"}],attrs:{type:"password",id:"uPassword",name:"uPassword",required:"",autocomplete:"off"},domProps:{value:t.uPassword},on:{input:function(e){e.target.composing||(t.uPassword=e.target.value)}}}),a("div",{staticClass:"underline"}),a("label",{attrs:{for:"email"}},[t._v("您的密码")])]),a("input",{attrs:{type:"submit",value:"登录",id:"submit"},on:{click:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}})])])])},dt=[],mt={name:"Login",data:function(){return{uName:"",uPassword:""}},methods:{register:function(){var t=this;if(""!==this.uName&&""!==this.uPassword){var e=this.uName,a=this.uPassword;if(this.uName="",this.uPassword="","admin"===e&&"123456"===a)this.$store.commit("setAll",{uName:e,uPassword:a,fromAdmin:!0,isLogin:!0,uId:4}),window.localStorage.setItem("uName",e),window.localStorage.setItem("uPassword",a),window.localStorage.setItem("fromAdmin",!0),window.localStorage.setItem("isLogin",!0),window.localStorage.setItem("uId",4),this.$router.back();else{var o=new FormData;o.append("uName",e),o.append("uPassword",a),B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.post("/users/login",o).then((function(o){400===o.data.code?alert(o.data.message):o.data.code>=200&&o.data.code<300&&(t.$store.commit("setAll",{uName:e,uPassword:a,fromAdmin:!1,isLogin:!0,uId:o.data.id}),window.localStorage.setItem("uName",e),window.localStorage.setItem("uPassword",a),window.localStorage.setItem("fromAdmin",!1),window.localStorage.setItem("isLogin",!0),window.localStorage.setItem("uId",o.data.id),t.$router.back())}),(function(t){alert(t.message)}))}return!0}return!1}},computed:Object(g["a"])({},Object(h["b"])({user:"user"}))},pt=mt,vt=(a("09f2"),Object(A["a"])(pt,ut,dt,!1,null,"3adff53f",null)),ft=vt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("body",[a("form",[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"input-data"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uName,expression:"uName"}],attrs:{type:"text",id:"uName",name:"uName",required:"",autocomplete:"off"},domProps:{value:t.uName},on:{input:function(e){e.target.composing||(t.uName=e.target.value)}}}),a("div",{staticClass:"underline"}),a("label",{attrs:{for:"email"}},[t._v("用户名")])]),a("br"),a("div",{staticClass:"input-data"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uPassword,expression:"uPassword"}],attrs:{type:"password",id:"uPassword",name:"uPassword",required:"",autocomplete:"off"},domProps:{value:t.uPassword},on:{input:function(e){e.target.composing||(t.uPassword=e.target.value)}}}),a("div",{staticClass:"underline"}),a("label",{attrs:{for:"email"}},[t._v("您的密码")])]),a("br"),a("div",{staticClass:"input-data"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],attrs:{type:"password",id:"check",required:"",autocomplete:"off"},domProps:{value:t.checkPassword},on:{input:function(e){e.target.composing||(t.checkPassword=e.target.value)}}}),a("div",{staticClass:"underline"}),a("label",{attrs:{for:"email"}},[t._v("再次输入密码")])]),a("input",{attrs:{type:"submit",value:"注册",id:"submit",name:"submit"},on:{click:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}})])])])},ht=[],bt=(a("ac1f"),a("5319"),{name:"Register",data:function(){return{uName:"",uPassword:"",checkPassword:""}},methods:{register:function(){var t=this;if(""!==this.uName&&""!==this.uPassword&&this.uPassword===this.checkPassword){var e=this.uName,a=this.uPassword;this.uName="",this.uPassword="",this.checkPassword="";var o=new FormData;return o.append("uName",e),o.append("uPassword",a),B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.post("/users/create",o).then((function(e){400===e.data.code?alert(e.data.message):e.data.code>=200&&e.data.code<300&&(alert("注册成功"),t.$router.replace({name:"login"}))}),(function(t){alert(t.message)})),!0}return this.uPassword!==this.checkPassword&&alert("前后密码输入不一致, 请重新输入"),!1}},computed:Object(g["a"])({},Object(h["b"])({user:"user"})),mounted:function(){}}),wt=bt,At=(a("664a"),Object(A["a"])(wt,gt,ht,!1,null,"422495f3",null)),Pt=At.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploads"},[a("form",[a("div",[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bName,expression:"bName"}],attrs:{type:"text",id:"title",required:""},domProps:{value:t.bName},on:{input:function(e){e.target.composing||(t.bName=e.target.value)}}}),a("br")]),a("div",[t._m(1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tId,expression:"tId"}],attrs:{name:"category",id:"category",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tId=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[t._v("武侠小说")]),a("option",{attrs:{value:"2"}},[t._v("玄幻小说")]),a("option",{attrs:{value:"3"}},[t._v("爱情小说")]),a("option",{attrs:{value:"4"}},[t._v("都市小说")]),a("option",{attrs:{value:"5"}},[t._v("校园小说")]),a("option",{attrs:{value:"6"}},[t._v("其他小说")])])]),a("div",[t._m(2),a("input",{attrs:{type:"file",id:"file",accept:".txt,.jpg,.png",multiple:"",required:""},on:{change:function(e){return t.getFile(e)}}}),a("br"),a("span",{staticClass:"tip"},[t._v("(传入图片和小说文件, 仅支持.txt, .jpg, .png格式)")])]),a("div",[a("label",{staticClass:"info",attrs:{for:"bDesc"}},[t._v("简介")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bDesc,expression:"bDesc"}],attrs:{name:"bDesc",id:"bDesc",cols:"30",rows:"10",maxlength:"50",placeholder:"50字以内"},domProps:{value:t.bDesc},on:{input:function(e){e.target.composing||(t.bDesc=e.target.value)}}}),a("br")]),a("button",{attrs:{type:"submit",id:"submit"},on:{click:function(e){return e.preventDefault(),t.upload.apply(null,arguments)}}},[t._v("上传")]),a("button",{attrs:{type:"reset",id:"reset"}},[t._v("重置")])])])},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"title"}},[a("span",[t._v("*")]),t._v("小说标题")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"category"}},[a("span",[t._v("*")]),t._v("小说类别")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"file"}},[a("span",[t._v("*")]),t._v("小说文件")])}],yt={name:"Uploads",data:function(){return{bName:"",bDesc:"",author:"",tId:1,fileArr:[]}},methods:{getFile:function(t){for(var e=t.target.files,a=0;a<e.length;a++){var o=e[a].name,r=o.lastIndexOf(".");if(-1!=r){var s=o.substr(r+1).toLowerCase();"txt"!=s&&"jpg"!=s&&"png"!=s?alert("非法文件类型"):this.fileArr.push(e[a])}else alert("非法文件类型")}},upload:function(){if(this.author=this.user.uName,!this.bName)return alert("标题不能为空"),!1;if(0===this.fileArr.length)return alert("请上传文件"),!1;var t=this.tId+"",e=new FormData;e.append("bName",this.bName),e.append("bDesc",this.bDesc),e.append("author",this.author),e.append("tId",t);for(var a=0;a<this.fileArr.length;a++)e.append("novel",this.fileArr[a]);var o={headers:{"Content-Type":"multipart/form-data"}};B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.post("/books/upload",e,o).then((function(t){console.log(t),t.data.code>=200&&t.data.code<300?alert("上传成功"):400===t.data.code&&alert(t.data.message)}),(function(t){alert(t.message)})),this.bName="",this.bDesc="",this.tId=1}},computed:Object(g["a"])({},Object(h["b"])({user:"user"}))},Ct=yt,It=(a("3fb0"),Object(A["a"])(Ct,kt,_t,!1,null,"67799eb3",null)),Nt=It.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{attrs:{id:"title"}},[t._v(" 《"+t._s(t.$route.params.title)+"》 ")]),a("div",{attrs:{id:"author"}},[a("span",[t._v("作者: ")]),t._v(t._s(t.$route.params.author))]),a("div",{staticClass:"novel"},[t._v(" "+t._s(t.novelContent)+" ")]),a("div",{staticClass:"form"},[t.user.isLogin?a("form",[a("input",{attrs:{type:"submit",id:"collect"},domProps:{value:t.text},on:{click:function(e){return e.preventDefault(),t.manipulate.apply(null,arguments)}}})]):t._e(),a("form",[a("input",{attrs:{type:"submit",value:"下载",id:"download"},on:{click:function(e){return e.preventDefault(),t.download.apply(null,arguments)}}})])])])},Et=[],xt=(a("99af"),a("21a6")),Ot={name:"Content",data:function(){return{novelContent:"空空如也",isCollect:!1}},methods:{collect:function(){var t=this,e=new FormData;e.append("bId",this.$route.query.bid),e.append("uId",this.user.uId),B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.post("/collects",e).then((function(e){console.log(e),console.log("collect"),e.data.code>=200&&e.data.code<300?(t.isCollect=!0,alert(e.data.message)):e.data.code}))},cancel:function(){var t=this,e="/collects?bId=".concat(this.$route.query.bid,"&uId=").concat(this.user.uId);B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.delete(e).then((function(e){console.log(e),console.log("cancel"),e.data.code>=200&&e.data.code<300?t.isCollect=!1:400===e.data.code&&alert(e.data.message)}))},manipulate:function(){this.isCollect?this.cancel():this.collect()},download:function(){var t=this.novelContent,e=new Blob([t],{type:"text/plain;charset=utf-8"});Object(xt["saveAs"])(e,"".concat(this.$route.params.title,".txt"))}},computed:Object(g["a"])(Object(g["a"])({},Object(h["b"])({user:"user"})),{},{text:function(){return this.isCollect?"取消收藏":"收藏"}}),mounted:function(){var t=this;B.a.get(this.$route.query.novelPath).then((function(e){t.novelContent=e.data,""==t.novelContent&&(t.novelContent="空空如也")})).catch((function(t){console.log(t)}));var e=new FormData;e.append("bId",this.$route.query.bid),e.append("uId",this.user.uId),B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.post("/collects",e).then((function(e){e.data.code>=200&&e.data.code<300?t.cancel():400===e.data.code&&(t.isCollect=!0)}))}},jt=Ot,Dt=(a("8996"),Object(A["a"])(jt,St,Et,!1,null,"17956cb2",null)),Qt=Dt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin"},[a("router-link",{staticClass:"back",attrs:{to:"/"}},[t._v(" ←回到首页")]),a("div",{staticClass:"manipulate"},[a("table",[t._m(0),0==t.fileArr.length?a("tr",[a("td",{attrs:{colspan:"4"}},[t._v("空")])]):t._l(t.fileArr,(function(e){return a("tr",{key:e.bid},[a("td",[t._v(t._s(e.bname))]),a("td",[t._v(t._s(e.author))]),"1"==e.tid?a("td",[t._v("武侠")]):"2"==e.tid?a("td",[t._v("玄幻")]):"3"==e.tid?a("td",[t._v("爱情")]):"4"==e.tid?a("td",[t._v("都市")]):"5"==e.tid?a("td",[t._v("校园")]):"6"==e.tid?a("td",[t._v("其他")]):t._e(),a("td",[a("router-link",{staticClass:"detail",attrs:{to:{name:"content",query:{bid:e.bid,novelPath:t.textPath+e.textPath},params:{author:e.author,title:e.bname}}}},[t._v("详情")]),a("a",{staticClass:"agree",on:{click:function(a){return t.agree(e.bid)}}},[t._v("同意")]),a("a",{staticClass:"delete",on:{click:function(a){return t.remove(e.bid)}}},[t._v("删除")])],1)])}))],2)])],1)},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("小说名")]),a("th",[t._v("作者")]),a("th",[t._v("类别")]),a("th",[t._v("操作")])])}],Ut={name:"Admin",data:function(){return{fileArr:[],imgPath:"http://101.43.56.126/imgback/",textPath:"http://101.43.56.126/text/"}},methods:{agree:function(t){var e=this;B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.post("/books/pass/".concat(t)),B.a.get("/books/unPassed/1/9").then((function(t){t.data.code>=200&&t.data.code<300&&(e.fileArr=t.data.message.records)}),(function(t){alert(t.message)}))},remove:function(t){var e=this;B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.delete("/books/".concat(t)),B.a.get("/books/unPassed/1/9").then((function(t){t.data.code>=200&&t.data.code<300&&(e.fileArr=t.data.message.records)}),(function(t){alert(t.message)}))}},mounted:function(){var t=this;B.a.defaults.baseURL="http://101.43.56.126:8181",B.a.get("/books/unPassed/1/9").then((function(e){e.data.code>=200&&e.data.code<300&&(t.fileArr=e.data.message.records)}),(function(t){alert(t.message)}))}},Bt=Ut,qt=(a("5079"),Object(A["a"])(Bt,Rt,Lt,!1,null,"474ef4cd",null)),Tt=qt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",t._l(t.fileArr,(function(e){return a("li",{key:e.bid,staticClass:"item"},[a("router-link",{attrs:{to:{name:"content",query:{bid:e.bid,novelPath:t.textPath+e.textPath},params:{author:e.author,title:e.bname}}}},[a("img",{staticClass:"cover",attrs:{src:t.imgPath+e.imgPath,alt:"封面"}})]),a("div",{staticClass:"info"},[a("span",{staticClass:"category"},[a("i",[t._v("类别: ")]),"1"==e.tid?a("span",[t._v("武侠")]):"2"==e.tid?a("span",[t._v("玄幻")]):"3"==e.tid?a("span",[t._v("爱情")]):"4"==e.tid?a("span",[t._v("都市")]):"5"==e.tid?a("span",[t._v("校园")]):"6"==e.tid?a("span",[t._v("其他")]):t._e()]),t._v(" "),a("br"),a("span",{staticClass:"title"},[a("i",[t._v("标题: ")]),t._v("《"+t._s(e.bname)+"》")]),t._v(" "),a("br"),a("span",{staticClass:"author"},[a("i",[t._v("作者: ")]),t._v(t._s(e.author))]),t._v(" "),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:"rank"==t.$route.name,expression:"$route.name == 'rank'"}],staticClass:"collect"},[a("i",[t._v("收藏数: ")]),t._v(t._s(e.count))]),t._v(" "),a("br"),a("span",{staticClass:"link"},[a("router-link",{attrs:{to:{name:"content",query:{bid:e.bid},params:{author:e.author,title:e.bname}}}},[t._v("全文阅读")])],1),a("br"),a("span",{staticClass:"brief"},[a("i",[t._v("简介: ")]),t._v(t._s(e.bdesc))])])],1)})),0)},Kt=[],Vt={name:"Lists",data:function(){return{fileArr:[],imgPath:"http://101.43.56.126/imgback/",textPath:"http://101.43.56.126/text/"}},computed:Object(g["a"])({},Object(h["b"])({user:"user"})),beforeRouteEnter:function(t,e,a){a((function(t){var e=t.$route.params.currentPage;if(t.user.uId=localStorage.getItem("uId"),B.a.defaults.baseURL="http://101.43.56.126:8181","rank"==t.$route.name)B.a.get("/books/hotList").then((function(e){t.fileArr=e.data.message,t.$store.commit("setPage",1),t.$store.commit("setTotal",10)}));else if("category"==t.$route.name){var a=t.$route.params.type;B.a.get("/books/".concat(a,"/").concat(e,"/9")).then((function(e){t.fileArr=e.data.message.records,t.$store.commit("setPage",e.data.message.pages),t.$store.commit("setTotal",e.data.message.total)}))}else if("search"==t.$route.name){var o=new FormData;o.append("bName",t.$route.query.kw),B.a.post("/books/".concat(e,"/9"),o).then((function(e){t.fileArr=e.data.message.records,t.$store.commit("setPage",e.data.message.pages),t.$store.commit("setTotal",e.data.message.total)}))}else if("recommend"==t.$route.name)B.a.get("/books/".concat(e,"/9")).then((function(e){t.fileArr=e.data.message.records,t.$store.commit("setPage",e.data.message.pages),t.$store.commit("setTotal",e.data.message.total)}));else if("collect"==t.$route.name){var r="/collects/".concat(t.user.uId,"/").concat(e,"/9");B.a.get(r).then((function(e){t.fileArr=e.data.message.records,t.$store.commit("setPage",e.data.message.pages),t.$store.commit("setTotal",e.data.message.total)}))}}))},beforeRouteUpdate:function(t,e,a){var o=this,r=t.params.currentPage;if(B.a.defaults.baseURL="http://101.43.56.126:8181","rank"==t.name)B.a.get("/books/hotList").then((function(t){o.fileArr=t.data.message,o.$store.commit("setPage",1),o.$store.commit("setTotal",10)}));else if("category"==t.name){var s=t.params.type;B.a.get("/books/".concat(s,"/").concat(r,"/9")).then((function(t){o.fileArr=t.data.message.records,o.$store.commit("setPage",t.data.message.pages),o.$store.commit("setTotal",t.data.message.total)}))}else if("search"==t.name){var n=new FormData;n.append("bName",t.query.kw),B.a.post("/books/".concat(r,"/9"),n).then((function(t){o.fileArr=t.data.message.records,o.$store.commit("setPage",t.data.message.pages),o.$store.commit("setTotal",t.data.message.total)}))}else"recommend"==t.name?B.a.get("/books/".concat(r,"/9")).then((function(t){o.fileArr=t.data.message.records,o.$store.commit("setPage",t.data.message.pages),o.$store.commit("setTotal",t.data.message.total)})):"collect"==t.name&&B.a.get("/collects/".concat(o.user.uId,"/").concat(r,"/9")).then((function(t){o.fileArr=t.data.message.records,o.$store.commit("setPage",t.data.message.pages),o.$store.commit("setTotal",t.data.message.total)}));a()}},Xt=Vt,Wt=(a("718a"),Object(A["a"])(Xt,Ft,Kt,!1,null,"5d4ab33b",null)),Ht=Wt.exports,$t=new q["a"]({routes:[{path:"/",component:j,children:[{name:"main",path:"/",component:lt},{name:"show",path:"show",component:Z,props:function(t){return{curPage:1*t.params.currentPage}},children:[{name:"rank",path:"rank/:currentPage/:pageSize",component:Ht},{name:"recommend",path:"recommend/:currentPage/:pageSize",component:Ht},{name:"category",path:"category/:type/:currentPage/:pageSize",component:Ht},{name:"collect",path:"collect/:currentPage/:pageSize",component:Ht,meta:{isAuth:!0}},{name:"search",path:"search/:currentPage/:pageSize",component:Ht}]},{name:"content",path:"content/:author/:title",component:Qt}]},{name:"login",path:"/login",component:ft},{path:"/register",component:Pt},{path:"/uploads",component:Nt,meta:{isAuth:!0}},{name:"admin",path:"/admin",component:Tt,meta:{isAuth:!0}}]});$t.beforeEach((function(t,e,a){t.meta.isAuth?localStorage.getItem("isLogin")?"admin"==t.name?localStorage.getItem("fromAdmin")?a():alert("非管理员禁止访问"):a():alert("请登录"):a()}));var Jt=$t;l["default"].use(h["a"]);var Gt={},Mt={setAll:function(t,e){t.user=e},setPage:function(t,e){t.totalPage=e},setTotal:function(t,e){t.total=e}},Zt={user:{},totalPage:9,total:1},zt=new h["a"].Store({actions:Gt,mutations:Mt,state:Zt});l["default"].component(c.a.name,c.a),l["default"].component(n.a.name,n.a),l["default"].component(r.a.name,r.a),l["default"].config.productionTip=!1,l["default"].prototype.axios=B.a,l["default"].use(q["a"]),new l["default"]({el:"#app",render:function(t){return t(L)},beforeCreate:function(){l["default"].prototype.$bus=this},router:Jt,store:zt})},"664a":function(t,e,a){"use strict";a("cafb")},"718a":function(t,e,a){"use strict";a("002b")},"732e":function(t,e,a){t.exports=a.p+"img/封面.e8a01b48.jpg"},"776d":function(t,e,a){t.exports=a.p+"img/登陆.4c4496a1.png"},"83d3":function(t,e,a){},8996:function(t,e,a){"use strict";a("bf40")},"89ab":function(t,e,a){},"91d5":function(t,e,a){},"92ee":function(t,e,a){t.exports=a.p+"img/用户.ca246632.png"},9681:function(t,e,a){},"978e":function(t,e,a){},"9abc":function(t,e,a){t.exports=a.p+"img/小说.56782f63.png"},a3ba:function(t,e,a){},a420:function(t,e){t.exports="data:image/png;base64,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"},bf40:function(t,e,a){},cafb:function(t,e,a){},cca1:function(t,e,a){"use strict";a("e502")},ce13:function(t,e,a){"use strict";a("1392")},da26:function(t,e,a){"use strict";a("91d5")},e502:function(t,e,a){},ed62:function(t,e,a){}});
//# sourceMappingURL=app.510e81f3.js.map